# 编译原理 lab2 实验报告

李维璇 201250058

### 实验思路

- 为了实现`SysYParser`，我根据规则文档将正则表达式转换好，再`compile`，并覆写`visitChildren`来访问`parser`的`rule`，以及`visitTerminal`来访问`lexer`的token。
  - 对于`visitChildren`，为了实现缩进，我利用`node`的`depth`字段来获得这个`node`位于树的第几层，从而在前方输出多少个空格；对于`visitTerminal`，可以通过获得`node`的`parent`的`depth`来获得此`node`的`depth`。
  - 对于`visitTerminal`，输出颜色是通过表驱动来实现的。因为相同的颜色对应的`type`都是连续的`int`值。


### 精巧的设计

- 实现得非常传统，似乎不是很精巧。


### 遇到的困难

- 我是从周一的晚上就开始做此实验，23点大约实现得差不多了，但提交oj上分数一直在1805。室友们的成绩也差不多。由于之前课程的习惯，我们并没有质疑oj是否出错。所以一直在对照着修改。一直到凌晨一两点，边看世界杯边修改。
- 到了周二下午，室友问了下助教为何无法通过，助教才发现手册并未更新，测试用例也有问题。马上修改后，果然AC了。
- 所以感觉这两次的实验事先准备的并不是很充分，手册等都打了很多次补丁，还是挺让人有自己的努力有付之东流的感觉的，还是希望助教们事先做好实验的各项准备，方便你我他。
